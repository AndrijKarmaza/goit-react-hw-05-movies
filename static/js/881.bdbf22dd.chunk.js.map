{"version":3,"file":"static/js/881.bdbf22dd.chunk.js","mappings":"uNAAA,IAAMA,EAAW,+BACXC,EAAM,mCACNC,EAAe,iC,kLCDrB,EAA+B,6BAA/B,EAAyE,2BAAzE,EAAiH,2BAAjH,EAA2J,6B,SC6F3J,EArFe,WACb,OAAkCC,EAAAA,EAAAA,YAAlC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA0BF,EAAAA,EAAAA,WAAS,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,MAsCjB,OApCAC,EAAAA,EAAAA,YAAU,WACR,GAAKJ,EAAL,CAEQ,IAESK,EAFV,mCAEL,6GAE2BC,EAAAA,EAAAA,IAAA,UAClBnB,EAAAA,GADkB,iCACeC,EAAAA,GADf,kBAC4BY,IAHvD,OAEUO,EAFV,OAKIf,EAAae,EAASC,KAAKC,SAL/B,gDAOIf,GAAS,GAPb,yBASIE,GAAW,GACXc,EAAAA,QAAAA,SAVJ,4EAFK,qDACLd,GAAW,GAcXS,GACD,CACF,GAAE,CAACL,IAEJL,GAAWe,EAAAA,QAAAA,SAAiB,cAE5BjB,GACEkB,EAAAA,OAAAA,QAAe,8DAYf,iCACE,kBAAMC,SAXV,SAAsBC,GACpBA,EAAIC,iBACJ,IAAQd,EAAUa,EAAIE,cAAcC,SAAShB,MAArCA,MACS,KAAjBA,EAAMiB,OACFN,EAAAA,OAAAA,QAAe,+BACfZ,EAAgB,CAAEC,MAAOA,EAAMiB,SACnCJ,EAAIE,cAAcG,OACnB,EAIG,WACE,kBACEC,KAAK,OACLC,KAAK,QACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,UAAWC,KAEb,mBAAQN,KAAK,SAASK,UAAWC,EAAjC,uBAIDlC,IACuB,IAArBA,EAAUmC,QACT,eAAIF,UAAWC,EAAf,SACGlC,EAAUoC,KAAI,gBAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,GAAvB,OACb,SAAC,KAAD,CAAeC,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAM/B,GAA3C,UACE,gBAAasB,UAAWC,EAAxB,WACE,gBACES,IACEN,EAAW,UACJvC,EAAAA,IADI,OACWuC,GAClBO,EAENC,IAAKP,KAEP,wBAAKA,MATEC,IADAA,EADE,MAiBjBnB,EAAAA,OAAAA,QAAe,mCAIxB,C","sources":["components/servises/api.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '24332f5bdb5cb6313d5fde27ff166678';\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w300';\n\nexport { BASE_URL, KEY, BASE_IMG_URL };\n","// extracted by mini-css-extract-plugin\nexport default {\"search_input\":\"Movies_search_input__991Ku\",\"search_btn\":\"Movies_search_btn__FHbHl\",\"movie_list\":\"Movies_movie_list__MTC+Z\",\"gallery_item\":\"Movies_gallery_item__OCo9J\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { BASE_URL, KEY, BASE_IMG_URL } from '../../components/servises/api.js';\nimport moviePoster from '../../images/movie-poster.png';\nimport axios from 'axios';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movieList, setMovieList] = useState();\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const value = searchParams.get('value');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!value) {\n      return;\n    } else {\n      setLoading(true);\n      async function getMovieList() {\n        try {\n          const response = await axios.get(\n            `${BASE_URL}/search/movie?api_key=${KEY}&query=${value}`\n          );\n          setMovieList(response.data.results);\n        } catch (error) {\n          setError(true);\n        } finally {\n          setLoading(false);\n          Loading.remove();\n        }\n      }\n      getMovieList();\n    }\n  }, [value]);\n\n  loading && Loading.standard('Loading...');\n\n  error &&\n    Notify.failure('Oops! Something went wrong. Please try reloading the page');\n\n  function onFormSubmit(evt) {\n    evt.preventDefault();\n    const { value } = evt.currentTarget.elements.value;\n    value.trim() === ''\n      ? Notify.failure('Enter the name of the movie')\n      : setSearchParams({ value: value.trim() });\n    evt.currentTarget.reset();\n  }\n\n  return (\n    <>\n      <form onSubmit={onFormSubmit}>\n        <input\n          type=\"text\"\n          name=\"value\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          className={css.search_input}\n        />\n        <button type=\"submit\" className={css.search_btn}>\n          Search\n        </button>\n      </form>\n      {movieList &&\n        (movieList.length !== 0 ? (\n          <ul className={css.movie_list}>\n            {movieList.map(({ poster_path, title, id }) => (\n              <Link key={id} to={`${id}`} state={{ from: location }}>\n                <li key={id} className={css.gallery_item}>\n                  <img\n                    src={\n                      poster_path\n                        ? `${BASE_IMG_URL}${poster_path}`\n                        : moviePoster\n                    }\n                    alt={title}\n                  />\n                  <h2>{title}</h2>\n                </li>\n              </Link>\n            ))}\n          </ul>\n        ) : (\n          Notify.failure('Nothing found for this query')\n        ))}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["BASE_URL","KEY","BASE_IMG_URL","useState","movieList","setMovieList","error","setError","loading","setLoading","useSearchParams","searchParams","setSearchParams","value","get","location","useLocation","useEffect","getMovieList","axios","response","data","results","Loading","Notify","onSubmit","evt","preventDefault","currentTarget","elements","trim","reset","type","name","autoComplete","autoFocus","placeholder","className","css","length","map","poster_path","title","id","to","state","from","src","moviePoster","alt"],"sourceRoot":""}