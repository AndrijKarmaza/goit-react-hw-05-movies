{"version":3,"file":"static/js/278.7412a440.chunk.js","mappings":"uNAAA,IAAMA,EAAW,+BACXC,EAAM,mCACNC,EAAe,iC,mICmErB,UA/De,WACb,OAAkCC,EAAAA,EAAAA,YAAlC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,MA0BjB,OAxBAC,EAAAA,EAAAA,YAAU,WACR,GAAKJ,EAAL,CAEQ,IACSK,EADV,mCACL,6GAE2BC,EAAAA,EAAAA,IAAA,UAClBf,EAAAA,GADkB,iCACeC,EAAAA,GADf,kBAC4BQ,IAHvD,OAEUO,EAFV,OAKIX,EAAaW,EAASC,KAAKC,SAL/B,gDAOIC,QAAQC,MAAR,MAPJ,yDADK,qDAWLN,GACD,CACF,GAAE,CAACL,KASF,iCACE,kBAAMY,SARV,SAAsBC,GACpBA,EAAIC,iBACJ,IAAQd,EAAUa,EAAIE,cAAcC,SAAShB,MAArCA,MACRD,EAAgB,CAAEC,MAAAA,IAClBa,EAAIE,cAAcE,OACnB,EAGG,WACE,kBACEC,KAAK,OACLC,KAAK,QACLC,aAAa,MACbC,WAAS,EACTC,YAAY,kBAEd,mBAAQJ,KAAK,SAAb,uBAEDvB,IACC,wBACGA,EAAU4B,KAAI,gBAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,GAAvB,OACb,SAAC,KAAD,CAAeC,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAM3B,GAA3C,UACE,2BACE,gBACE4B,IACEN,EAAW,UAAM/B,EAAAA,IAAN,OAAqB+B,GAAgBO,EAElDC,IAAKP,KAEP,wBAAKA,MAPEC,IADAA,EADE,QAiBxB,C","sources":["components/servises/api.js","pages/Movies/Movies.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '24332f5bdb5cb6313d5fde27ff166678';\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w300';\n\nexport { BASE_URL, KEY, BASE_IMG_URL };\n","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { BASE_URL, KEY, BASE_IMG_URL } from '../../components/servises/api.js';\nimport moviePoster from '../../images/movie-poster.png';\nimport axios from 'axios';\n\nconst Movies = () => {\n  const [movieList, setMovieList] = useState();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const value = searchParams.get('value');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!value) {\n      return;\n    } else {\n      async function getMovieList() {\n        try {\n          const response = await axios.get(\n            `${BASE_URL}/search/movie?api_key=${KEY}&query=${value}`\n          );\n          setMovieList(response.data.results);\n        } catch (error) {\n          console.error(error);\n        }\n      }\n      getMovieList();\n    }\n  }, [value]);\n\n  function onFormSubmit(evt) {\n    evt.preventDefault();\n    const { value } = evt.currentTarget.elements.value;\n    setSearchParams({ value });\n    evt.currentTarget.reset();\n  }\n  return (\n    <>\n      <form onSubmit={onFormSubmit}>\n        <input\n          type=\"text\"\n          name=\"value\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {movieList && (\n        <ul>\n          {movieList.map(({ poster_path, title, id }) => (\n            <Link key={id} to={`${id}`} state={{ from: location }}>\n              <li key={id}>\n                <img\n                  src={\n                    poster_path ? `${BASE_IMG_URL}${poster_path}` : moviePoster\n                  }\n                  alt={title}\n                />\n                <h2>{title}</h2>\n              </li>\n            </Link>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["BASE_URL","KEY","BASE_IMG_URL","useState","movieList","setMovieList","useSearchParams","searchParams","setSearchParams","value","get","location","useLocation","useEffect","getMovieList","axios","response","data","results","console","error","onSubmit","evt","preventDefault","currentTarget","elements","reset","type","name","autoComplete","autoFocus","placeholder","map","poster_path","title","id","to","state","from","src","moviePoster","alt"],"sourceRoot":""}