{"version":3,"file":"static/js/888.e854c6a7.chunk.js","mappings":"yRACA,EAA2B,+BAA3B,EAAyE,mCAAzE,EAAyH,iCAAzH,EAA6K,uCAA7K,EAAgO,gCAAhO,EAAoR,wC,SCyFpR,EAlFqB,WAAO,IAAD,IACjBA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAkCE,EAAAA,EAAAA,YAAlC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA0BF,EAAAA,EAAAA,WAAS,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KAEMC,EAAO,qBADIC,EAAAA,EAAAA,MACQC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAuBxC,IArBAC,EAAAA,EAAAA,YAAU,WAAM,wCAEd,8GAE2BC,EAAAA,EAAAA,IAAiBd,GAF5C,OAEUe,EAFV,OAGIX,EAAaW,GAHjB,gDAKIT,GAAS,GALb,yBAOIE,GAAW,GACXQ,EAAAA,QAAAA,SARJ,6EAFc,sBACdR,GAAW,GADG,mCAadS,EACD,GAAE,CAACjB,IAEJO,GAAWS,EAAAA,QAAAA,SAAiB,cAE5BX,GACEa,EAAAA,OAAAA,QAAe,8DAEZf,GAAaE,EAChB,OAAO,SAAC,KAAD,CAAMc,GAAIV,EAAV,kBAGT,IAAQW,EAAuDjB,EAAvDiB,YAAaC,EAA0ClB,EAA1CkB,MAAOC,EAAmCnB,EAAnCmB,aAAcC,EAAqBpB,EAArBoB,SACpCC,EADyDrB,EAAXsB,OAC1BC,SAAQ,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,MAE5D,OACE,iCACE,SAAC,KAAD,CAAMV,GAAIV,EAASqB,UAAWC,EAA9B,mBAGA,iBAAKD,UAAWC,EAAhB,WACE,gBACEC,IACEZ,EAAW,yCAC2BA,GAClCa,EAENC,IAAKb,EACLS,UAAWC,KAEb,iBAAKD,UAAWC,EAAhB,WACE,wBAAKV,KACL,yCAAgC,GAAfC,GAAmBa,QAAQ,GAA5C,QACA,qCACA,uBAAIX,KACJ,uCACA,uBAAID,WAGR,4BACE,oDACA,gBAAIO,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMZ,GAAG,OAAOW,UAAWC,EAA3B,qBAIF,yBACE,SAAC,KAAD,CAAMZ,GAAG,UAAUW,UAAWC,EAA9B,8BAMN,SAAC,EAAAK,SAAD,WACE,SAAC,KAAD,QAIP,C,+LCtFKC,EAAW,+BACXC,EAAM,mCAENC,EAAW,mCAAG,oGACKC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,wCACsBC,IAF3B,cACZvB,EADY,yBAIXA,EAAS0B,KAAKC,SAJH,2CAAH,qDAOXC,EAAmB,mCAAG,WAAMC,GAAN,uFACHJ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,iCACeC,EADf,kBAC4BM,IAFzB,cACpB7B,EADoB,yBAInBA,EAAS0B,KAAKC,SAJK,2CAAH,sDAOnB5B,EAAgB,mCAAG,WAAMd,GAAN,uFACAwC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACArC,EADA,oBACmBsC,IAFnB,cACjBvB,EADiB,yBAIhBA,EAAS0B,MAJO,2CAAH,sDAOhBI,EAAc,mCAAG,WAAM7C,GAAN,uFACEwC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACArC,EADA,4BAC2BsC,IAF7B,cACfvB,EADe,yBAIdA,EAAS0B,KAAKK,MAJA,2CAAH,sDAOdC,EAAiB,mCAAG,WAAM/C,GAAN,uFACDwC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACArC,EADA,4BAC2BsC,IAF1B,cAClBvB,EADkB,yBAIjBA,EAAS0B,KAAKC,SAJG,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","servises/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn_back\":\"MovieDetails_btn_back__FdQb-\",\"btn_addition\":\"MovieDetails_btn_addition__RNTov\",\"movie_card\":\"MovieDetails_movie_card__nLdE0\",\"movie_card_descr\":\"MovieDetails_movie_card_descr__wm9ua\",\"movie_img\":\"MovieDetails_movie_img__LJ51e\",\"btn_addition_list\":\"MovieDetails_btn_addition_list__OFZLk\"};","import { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport { fetchMovieDetail } from '../../servises/api.js';\nimport moviePoster from '../../images/movie-poster.png';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieData, setMovieData] = useState();\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n  const backWay = location.state?.from ?? '/';\n\n  useEffect(() => {\n    setLoading(true);\n    async function getMovieData() {\n      try {\n        const response = await fetchMovieDetail(movieId);\n        setMovieData(response);\n      } catch (error) {\n        setError(true);\n      } finally {\n        setLoading(false);\n        Loading.remove();\n      }\n    }\n    getMovieData();\n  }, [movieId]);\n\n  loading && Loading.standard('Loading...');\n\n  error &&\n    Notify.failure('Oops! Something went wrong. Please try reloading the page');\n\n  if (!movieData || error) {\n    return <Link to={backWay}>Back</Link>;\n  }\n\n  const { poster_path, title, vote_average, overview, genres } = movieData;\n  const genresList = genres.flatMap(genre => genre.name).join(', ');\n\n  return (\n    <>\n      <Link to={backWay} className={css.btn_back}>\n        Back\n      </Link>\n      <div className={css.movie_card}>\n        <img\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w300${poster_path}`\n              : moviePoster\n          }\n          alt={title}\n          className={css.movie_img}\n        />\n        <div className={css.movie_card_descr}>\n          <h1>{title}</h1>\n          <p>User Score: {(vote_average * 10).toFixed(0)}%</p>\n          <h2>Genres:</h2>\n          <p>{genresList}</p>\n          <h2>Overview:</h2>\n          <p>{overview}</p>\n        </div>\n      </div>\n      <div>\n        <h2>Additional information</h2>\n        <ul className={css.btn_addition_list}>\n          <li>\n            <Link to=\"cast\" className={css.btn_addition}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" className={css.btn_addition}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '24332f5bdb5cb6313d5fde27ff166678';\n\nconst fetchMovies = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/week?api_key=${KEY}`\n  );\n  return response.data.results;\n};\n\nconst fetchMoviesForQuery = async value => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${KEY}&query=${value}`\n  );\n  return response.data.results;\n};\n\nconst fetchMovieDetail = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${KEY}`\n  );\n  return response.data;\n};\n\nconst fetchMovieCast = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`\n  );\n  return response.data.cast;\n};\n\nconst fetchMovieReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}`\n  );\n  return response.data.results;\n};\n\nexport {\n  fetchMovies,\n  fetchMoviesForQuery,\n  fetchMovieDetail,\n  fetchMovieCast,\n  fetchMovieReviews,\n};\n"],"names":["movieId","useParams","useState","movieData","setMovieData","error","setError","loading","setLoading","backWay","useLocation","state","from","useEffect","fetchMovieDetail","response","Loading","getMovieData","Notify","to","poster_path","title","vote_average","overview","genresList","genres","flatMap","genre","name","join","className","css","src","moviePoster","alt","toFixed","Suspense","BASE_URL","KEY","fetchMovies","axios","data","results","fetchMoviesForQuery","value","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}