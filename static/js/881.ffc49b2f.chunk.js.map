{"version":3,"file":"static/js/881.ffc49b2f.chunk.js","mappings":"yRACA,EAA+B,6BAA/B,EAAyE,2BAAzE,EAAiH,2BAAjH,EAA2J,6B,SC0F3J,EAnFe,WACb,OAAkCA,EAAAA,EAAAA,YAAlC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA0BF,EAAAA,EAAAA,WAAS,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,MAoCjB,OAlCAC,EAAAA,EAAAA,YAAU,WACR,GAAKJ,EAAL,CAEQ,IAESK,EAFV,mCAEL,8GAE2BC,EAAAA,EAAAA,IAAoBN,GAF/C,OAEUO,EAFV,OAGIf,EAAae,GAHjB,gDAKIb,GAAS,GALb,yBAOIE,GAAW,GACXY,EAAAA,QAAAA,SARJ,4EAFK,qDACLZ,GAAW,GAYXS,GACD,CACF,GAAE,CAACL,IAEJL,GAAWa,EAAAA,QAAAA,SAAiB,cAE5Bf,GACEgB,EAAAA,OAAAA,QAAe,8DAYf,iCACE,kBAAMC,SAXV,SAAsBC,GACpBA,EAAIC,iBACJ,IAAQZ,EAAUW,EAAIE,cAAcC,SAASd,MAArCA,MACS,KAAjBA,EAAMe,OACFN,EAAAA,OAAAA,QAAe,+BACfV,EAAgB,CAAEC,MAAOA,EAAMe,SACnCJ,EAAIE,cAAcG,OACnB,EAIG,WACE,kBACEC,KAAK,OACLC,KAAK,QACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,UAAWC,KAEb,mBAAQN,KAAK,SAASK,UAAWC,EAAjC,uBAIDhC,IACuB,IAArBA,EAAUiC,QACT,eAAIF,UAAWC,EAAf,SACGhC,EAAUkC,KAAI,gBAAGC,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,GAAvB,OACb,SAAC,KAAD,CAAeC,GAAE,UAAKD,GAAME,MAAO,CAAEC,KAAM7B,GAA3C,UACE,gBAAaoB,UAAWC,EAAxB,WACE,gBACES,IACEN,EAAW,yCAC2BA,GAClCO,EAENC,IAAKP,KAEP,wBAAKA,MATEC,IADAA,EADE,MAiBjBnB,EAAAA,OAAAA,QAAe,mCAIxB,C,+LCvFK0B,EAAW,+BACXC,EAAM,mCAENC,EAAW,mCAAG,oGACKC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,wCACsBC,IAF3B,cACZ7B,EADY,yBAIXA,EAASgC,KAAKC,SAJH,2CAAH,qDAOXlC,EAAmB,mCAAG,WAAMN,GAAN,uFACHsC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,iCACeC,EADf,kBAC4BpC,IAFzB,cACpBO,EADoB,yBAInBA,EAASgC,KAAKC,SAJK,2CAAH,sDAOnBC,EAAgB,mCAAG,WAAMC,GAAN,uFACAJ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACAO,EADA,oBACmBN,IAFnB,cACjB7B,EADiB,yBAIhBA,EAASgC,MAJO,2CAAH,sDAOhBI,EAAc,mCAAG,WAAMD,GAAN,uFACEJ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACAO,EADA,4BAC2BN,IAF7B,cACf7B,EADe,yBAIdA,EAASgC,KAAKK,MAJA,2CAAH,sDAOdC,EAAiB,mCAAG,WAAMH,GAAN,uFACDJ,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACAO,EADA,4BAC2BN,IAF1B,cAClB7B,EADkB,yBAIjBA,EAASgC,KAAKC,SAJG,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","servises/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"search_input\":\"Movies_search_input__991Ku\",\"search_btn\":\"Movies_search_btn__FHbHl\",\"movie_list\":\"Movies_movie_list__MTC+Z\",\"gallery_item\":\"Movies_gallery_item__OCo9J\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { fetchMoviesForQuery } from '../../servises/api.js';\nimport moviePoster from '../../images/movie-poster.png';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movieList, setMovieList] = useState();\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const value = searchParams.get('value');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!value) {\n      return;\n    } else {\n      setLoading(true);\n      async function getMovieList() {\n        try {\n          const response = await fetchMoviesForQuery(value);\n          setMovieList(response);\n        } catch (error) {\n          setError(true);\n        } finally {\n          setLoading(false);\n          Loading.remove();\n        }\n      }\n      getMovieList();\n    }\n  }, [value]);\n\n  loading && Loading.standard('Loading...');\n\n  error &&\n    Notify.failure('Oops! Something went wrong. Please try reloading the page');\n\n  function onFormSubmit(evt) {\n    evt.preventDefault();\n    const { value } = evt.currentTarget.elements.value;\n    value.trim() === ''\n      ? Notify.failure('Enter the name of the movie')\n      : setSearchParams({ value: value.trim() });\n    evt.currentTarget.reset();\n  }\n\n  return (\n    <>\n      <form onSubmit={onFormSubmit}>\n        <input\n          type=\"text\"\n          name=\"value\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          className={css.search_input}\n        />\n        <button type=\"submit\" className={css.search_btn}>\n          Search\n        </button>\n      </form>\n      {movieList &&\n        (movieList.length !== 0 ? (\n          <ul className={css.movie_list}>\n            {movieList.map(({ poster_path, title, id }) => (\n              <Link key={id} to={`${id}`} state={{ from: location }}>\n                <li key={id} className={css.gallery_item}>\n                  <img\n                    src={\n                      poster_path\n                        ? `https://image.tmdb.org/t/p/w300${poster_path}`\n                        : moviePoster\n                    }\n                    alt={title}\n                  />\n                  <h2>{title}</h2>\n                </li>\n              </Link>\n            ))}\n          </ul>\n        ) : (\n          Notify.failure('Nothing found for this query')\n        ))}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '24332f5bdb5cb6313d5fde27ff166678';\n\nconst fetchMovies = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/week?api_key=${KEY}`\n  );\n  return response.data.results;\n};\n\nconst fetchMoviesForQuery = async value => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${KEY}&query=${value}`\n  );\n  return response.data.results;\n};\n\nconst fetchMovieDetail = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${KEY}`\n  );\n  return response.data;\n};\n\nconst fetchMovieCast = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`\n  );\n  return response.data.cast;\n};\n\nconst fetchMovieReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}`\n  );\n  return response.data.results;\n};\n\nexport {\n  fetchMovies,\n  fetchMoviesForQuery,\n  fetchMovieDetail,\n  fetchMovieCast,\n  fetchMovieReviews,\n};\n"],"names":["useState","movieList","setMovieList","error","setError","loading","setLoading","useSearchParams","searchParams","setSearchParams","value","get","location","useLocation","useEffect","getMovieList","fetchMoviesForQuery","response","Loading","Notify","onSubmit","evt","preventDefault","currentTarget","elements","trim","reset","type","name","autoComplete","autoFocus","placeholder","className","css","length","map","poster_path","title","id","to","state","from","src","moviePoster","alt","BASE_URL","KEY","fetchMovies","axios","data","results","fetchMovieDetail","movieId","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}